<?php
	// Add the head title
	$this->headTitle('Photo Gallery');

	// Add the page css
	$this->headLink()->prependStylesheet($this->basePath('css/gallery.css'));
?>

<h1>Photo Gallery</h1>

<?php if (true || $this->hasPermission('gallery', 'add')): ?> <!-- @todo Make the permission helper and fix this! -->
	<a href="<?php echo $this->url('gallery/add'); ?>">Add New Image</a>
<?php endif; ?>

<!-- @todo Handle when there are no images to display! -->

<div class="row">
	<?php foreach ($this->images as $image): ?>
		<div id="gallery-image-<?php echo $image->id; ?>" class="col-lg-3 col-md-4 col-xs-6">
			<a href="<?php echo $this->url('gallery/view', $image->getCleanArrayCopy()); ?>">
				<img class="img-thumbnail img-responsive" src="<?php echo $this->basePath($image->thumbLocation); ?>" alt="<?php echo $image->title; ?>">
			</a>
		</div>
	<?php endforeach ?>
</div>
